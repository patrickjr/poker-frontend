<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>HTML5 Deck of Cards</title>
    <link href="example.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,600|Ubuntu+Condensed" rel="stylesheet" type="text/css">
  </head>

<body style="min-width: 900px !important; max-width: 1400px !important; margin: 0 auto;">
  
<!--navigation bar-->  
<div id="nav-bar">
  
</div>
<!--end of navigation bar-->
  

<!--page content-->
<div id="body-container">
<div class="body-content">
    
  <!--poker ui frame-->
  <div id="poker-frame">
    <!--game menu frame-->
    <div id="game-menu">
      <span>Join Table</span>
      <span>Create Table</span>
      <span class = "pointer" id="dealCard" onclick="game()">Deal Card</span>
      <span class = "pointer" id="dealCard" onclick="flipCards()">Flip Cards</span>
    </div>
    <!--end of game menu frame-->
    
    <!--frame for poker game-->
    <div id="game-container">
    <div id="game">
      <div id="poker-container">
        
      <div id="poker-table">
        <div id ="dealer-spot"></div>
        <img src="pokertable.png" alt="poker table"/>
        
        <div class="z-1000" id = "p1" onclick="clickNow('p1');">
        <div class="p-container">
            
          <div class="p-username">
            <p>Patrick</p>
          </div>
          <div class="p-chips">
            <p>10,000</p>
          </div>
            
        </div>
        </div>
        
        
        <div class="z-1000" id = "p2">
        <div class="p-container">
            
          <div class="p-username">
            <p>Patrick</p>
          </div>
          <div class="p-chips">
            <p>10,000</p>
          </div>
            
        </div>
        </div>
        
        <div class="z-1000" id = "p3" onclick="clickNow('p3');">
        <div class="p-container">
            
          <div class="p-username">
            <p>Patrick</p>
          </div>
          <div class="p-chips">
            <p>10,000</p>
          </div>
            
        </div> 
        </div>
        
        <div class="z-1000" id = "p4" onclick="clickNow('p4');">
        <div class="p-container">
            
          <div class="p-username">
            <p>Patrick</p>
          </div>
          <div class="p-chips">
            <p>10,000</p>
          </div>
            
        </div>
        </div>
        
        
        <div class="z-1000" id = "p5" onclick="clickNow('p5');">
        <div class="p-container">
            
          <div class="p-username">
            <p>Patrick</p>
          </div>
          <div class="p-chips">
            <p>10,000</p>
          </div>
        </div>
        </div>
        
        <div class="z-1000" id='p5-options'>
        <div class='p-container'>
          
          <div id="p5-bet">
            <input type="text" id="text" name="text_name" />
            <p class="p5-button" id="bet">Bet</p>
          </div>
          

            <p class="p5-button" id="bet-small">small</p>
            <p class="p5-button" id="bet-large">large</p>
            <p class="p5-button" id="bet-all">all in</p>
            <p class="p5-button" id="bet-check">check</p>
            <p class="p5-button" id="bet-fold">fold</p>
            
          <!--<p id="bet-large">large blind</p>-->
          
          <!--<p id="all-in">all in</p>-->
          <!--<p id="p5-check">check</p>-->
          <!--<p id="p5-fold">check</p>-->
          
          
        </div>
        </div>
        
        
        
        <div class="z-1000" id = "p6">
        <div class="p-container">
            
          <div class="p-username">
            <p>Patrick</p>
          </div>
          <div class="p-chips">
            <p>10,000</p>
          </div>
            
        </div>
        </div>
        
        
        <div class="z-1000" id = "p7">
        <div class="p-container">
            
          <div class="p-username">
            <p>Patrick</p>
          </div>
          <div class="p-chips">
            <p>10,000</p>
          </div>
            
        </div>
        </div>
        
        <div class="z-1000" id = "p8">
        <div class="p-container">
            
          <div class="p-username">
            <p>Patrick</p>
          </div>
          <div class="p-chips">
            <p>10,000</p>
          </div>
            
        </div>
        </div>
        
        
        <div class="z-1000" id = "p9">
        <div class="p-container">
            
          <div class="p-username">
            <p>Patrick</p>
          </div>
          <div class="p-chips">
            <p>10,000</p>
          </div>
            
        </div>
        </div>
          
        
      </div>       
      </div>
  
      
      
      
      
      
    </div>
    </div>
    <!--end of frame for poker game-->
    
  </div>  
  <!--end poker ui frame-->
  

</div>
</div>
<!--end of page content-->







  













  <!--<div id="topbar"></div><a href="https://github.com/pakastin/deck-of-cards"><img class="gh-ribbon" style="position: fixed; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/52760788cde945287fbb584134c4cbc2bc36f904/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f77686974655f6666666666662e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png"></a>-->
  <script src="../dist/deck.js"></script>
  <!--<script src="example.js"></script>-->
  <script src="holdem.js"></script>

  <script>
  
  //adjustPokerFrame("poker-frame", "poker-table");      
  //adjustDivHeight("msg-board", "game");      
  
  window.onresize = function(event) {
    
    //adjustPokerFrame("poker-frame", "poker-table");
    //adjustDivHeight("msg-board", "game");

    var locations = getPlayerPositions(9);
    for(i in $GAME){
      $GAME[i].updateLocation(locations[i]);
      
    }
};

  
  
  function Player(location){
    this.x     = location.x;
    this.y     = location.y;
    this.user  = false;
    this.cards = [];
    
    this.setUser = function(isUser){
      this.user = isUser;
    };
    this.setCards = function(card){
      this.cards.push(card);
    };
    this.showFront = function(){
      this.cards.forEach(function (card, i){
        card.setSide('front');
      });
    };
    this.updateLocation = function(location){
      this.x = location.x;
      this.y = location.y;
      this.cards.forEach(function (card, i){
        if(i===0){
          card.x = location.x + 40;
        }
        else{
          card.x = location.x; 
        }
        card.y = location.y;
      });
    };
  }
   
   var $GAME = initGame(9);
   
   
  //initializes player positions and returns an array of player objects
  function initGame(numPlayers){
    var players = [];
    for(var i=0;i<numPlayers;i++){
      var key = "p" + (i+1).toString();
      var value = getDistance(key, "dealer-spot");
      players[i] = new Player(value);
    }
    return players;
  }
  
  //startGame(players, players.length);
  
  // starts game with an array of player objects as a parameter
  function startGame(players, numPlayers){
    // players[4] is designated as the client/user
    // which is the player associated with the div id = 'p5'
    var delayCard = 0;
    players[4].user = true;
    for(i=0;i<numPlayers;i++){
      var card = dealCard(players[i], (delayCard * .5));
      players[i].setCards(card);
      delayCard++;
      //players[i].setCards(dealCard(players[i], (delayCard * .5)));
    }
    for(i=0;i<numPlayers;i++){
      var card = dealCard(players[i], (delayCard * .5));
      players[i].setCards(card);
      delayCard++;
    }
    return players;
  }
  
  function game(){
    $GAME = startGame($GAME, $GAME.length);
  }
  
  function flipCards(){
    $GAME[4].showFront();
  }
  
  function getPlayerPositions(numPlayers){
    var locations = [];
    for(var i=0;i<numPlayers;i++){
      var key = "p" + (i+1).toString();
      var value = getDistance(key, "dealer-spot");
      locations.push(value);
    }
    return locations;
  }
  /*
  
  function playGame(){
      var players = [];
      for (var i=1;i<10;i++){
        var key = "p" + i.toString();
        var value = getDistance(key, "dealer-spot")
        players[i] = value;
      }
      
      var playerCounter = 1;
      var cardNumber    = 1;
      for(var i=1; i<19; i++, playerCounter++){
        
        if(playerCounter===5){
          dealCard(players[playerCounter], cardNumber, (i * .5));
        }
        else{
          dealCard(players[playerCounter], cardNumber, (i * .5));
        }
        if(playerCounter === 9){
          playerCounter = 0;
          cardNumber    = 2;
        }
      }
  }*/
  
  function getDistance(e1_id, e2_id){
    var e1 = document.getElementById(e1_id);
    var e2 = document.getElementById(e2_id);
    var dx = e1.offsetLeft - e2.offsetLeft;
        dx = e1.offsetWidth/2 + dx;
    var dy = e1.offsetTop - e2.offsetTop;
   return {x: dx,y: dy};
  }
 
  
  function clickNow(divID){
      var distance = getDistance(divID, "dealer-spot");
      dealCard(distance);
  }

  
  function minimize(divID){
    var div = document.getElementById(divID);
    
  }
    
    
  
  
  function adjustPokerFrame(div1ID, div2ID){
    
    var div1 = document.getElementById(div1ID);
    var div2 = document.getElementById(div2ID);
    
    var div1Pos = getPos(div1);
    var dy      = div1Pos.y;
    
    var div2Height    = div2.offsetHeight + 350;  // 88 is chosen to accomadate margin-top
    var div1NewHeight = ((div2Height - dy) + "px");
  
    div1.style.height = div1NewHeight;
    
  }

  
  function adjustDivHeight(div1ID, div2ID){
    
    var div1 = document.getElementById(div1ID);
    var div2 = document.getElementById(div2ID);
    
    var div1Pos = getPos(div1);
    var dy      = div1Pos.y;
    
    var div2Height    = div2.offsetHeight + 88;  // 88 is chosen to accomadate margin-top
    var div1NewHeight = ((div2Height - dy) + "px");
  
    div1.style.height = div1NewHeight;
    
  }
    
function getPos(el) {
    // yay readability
    for (var lx=0, ly=0;
         el != null;
         lx += el.offsetLeft, ly += el.offsetTop, el = el.offsetParent);
    return {x: lx,y: ly};
}

  </script>
  
  
</body>
</html>